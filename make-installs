#!/usr/bin/env bash
cd "$(dirname "${0}")"
# 
# __/\\\\\\\\\\\__________________________________________________________/\\\\\\_____/\\\\\\_________________        
#  _\/////\\\///__________________________________________________________\////\\\____\////\\\_________________       
#   _____\/\\\____________________________________/\\\________________________\/\\\_______\/\\\_________________      
#    _____\/\\\______/\\/\\\\\\____/\\\\\\\\\\__/\\\\\\\\\\\__/\\\\\\\\\_______\/\\\_______\/\\\_____/\\\\\\\\\\_     
#     _____\/\\\_____\/\\\////\\\__\/\\\//////__\////\\\////__\////////\\\______\/\\\_______\/\\\____\/\\\//////__    
#      _____\/\\\_____\/\\\__\//\\\_\/\\\\\\\\\\____\/\\\________/\\\\\\\\\\_____\/\\\_______\/\\\____\/\\\\\\\\\\_   
#       _____\/\\\_____\/\\\___\/\\\_\////////\\\____\/\\\_/\\___/\\\/////\\\_____\/\\\_______\/\\\____\////////\\\_  
#        __/\\\\\\\\\\\_\/\\\___\/\\\__/\\\\\\\\\\____\//\\\\\___\//\\\\\\\\/\\__/\\\\\\\\\__/\\\\\\\\\__/\\\\\\\\\\_ 
#         _\///////////__\///____\///__\//////////______\/////_____\////////\//__\/////////__\/////////__\//////////__
# 
 
#=====================================================
# FEDORA
target=fedora

cat \
  ./shared/header \
  ./shared/fedora-logo \
  ./shared/sshkeys \
  ./shared/fedora-dnf-config \
  ./shared/fedora-user-space-installs \
  ./shared/gitclones \
  ./shared/gnome \
  > $target

cat << EOF >> $target
systemctl reboot
EOF

chmod +x $target

#=====================================================
# SILVERBLUE
target=silverblue

cat \
  ./shared/header \
  ./shared/silverblue-logo \
  ./shared/sshkeys \
  ./shared/rpm-ostree \
  ./shared/gitclones \
  ./shared/gnome \
  > $target

cat << EOF >> $target
#=====================================================
# base toolbox
#=====================================================
toolbox create
toolbox run sh -exec '
EOF

cat \
  ./shared/fedora-dnf-config \
  ./shared/fedora-user-space-installs \
  >> $target

cat << EOF >> $target
'

systemctl reboot
EOF

chmod +x $target


#=====================================================
# Linux Post Script
target=linux-user-space

cat \
  ./shared/appimages \
  ./shared/flatpaks \
  ./shared/gnome-extensions \
  > $target 

chmod +x $target

